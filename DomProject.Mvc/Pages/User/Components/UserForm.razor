@using AutoMapper
@using DomProject.Core.Services.User
@using DomProject.Mvc.DTO

@inject IUserService UserService;
@inject IMapper Mapper;

<MudForm Model="User" Class="Class">
    <MudTextField @bind-Value="User.Name" T="string" Label="Name" Required="true" RequiredError="Name is required!"/>
    <MudTextField @bind-Value="User.Surname" T="string" Label="Surname"/>
    <MudTextField @bind-Value="User.Login" T="string" Label="Login" Required="true" RequiredError="Login is required!"/>
    <MudTextField @bind-Value="User.Email" T="string" Label="Year" Required="true" RequiredError="Email is required!"/>
</MudForm>
<MudPaper Class="pa-4 justify-center my-4 mud-text-align-center">
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => PassUser.InvokeAsync(User))">Submit</MudButton>
</MudPaper>

@code {
    [Parameter]
    public UserDto.Create User { get; set; } = new ();
    
    [Parameter]
    public EventCallback<UserDto.Create> PassUser { get; set; }

    [Parameter]
    public string Class { get; set; } = "";

}
