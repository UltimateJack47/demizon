@using AutoMapper
@using DomProject.Core.Services.Event
@using DomProject.Mvc.ViewModels

@inject IEventService EventService;
@inject IMapper Mapper;

<MudForm Model="EventModel" Class="Class">
    <MudTextField @bind-Value="EventModel.Name" T="string" Label="Name" Required="true" RequiredError="Name is required!"/>
    @*<MudTextField @bind-Value="EventModel.Description" T="string" Label="Description"/>
    <MudTextField @bind-Value="EventModel.Price" T="decimal" Label="Price"/>*@
    <MudTextField @bind-Value="EventModel.Year" T="int" Label="Year" Required="true" RequiredError="Year is required!"/>
</MudForm>
<MudPaper Class="pa-4 justify-center my-4 mud-text-align-center">
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => PassDevice.InvokeAsync(EventModel))">Submit</MudButton>
</MudPaper>

@code {
    [Parameter]
    public VideoLinkViewModel.Create EventModel { get; set; } = new ();
    
    [Parameter]
    public EventCallback<VideoLinkViewModel.Create> PassDevice { get; set; }

    [Parameter]
    public string Class { get; set; } = "";

}
